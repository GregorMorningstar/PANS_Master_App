import{c as z,r as j,j as c,L as E}from"./app-DvaQrBj5.js";function q(k){const e=z.c(24),{onSearch:r,links:y,initialPage:S}=k,_=S===void 0?1:S,[a,N]=j.useState("");j.useState(_);const v=typeof window<"u"?window.location.pathname:"";let m;e[0]!==y?(m=y??[{href:"/moderator/machines",label:"Wszystkie"},{href:"/moderator/machines/add-new",label:"Dodaj"},{href:"/moderator/machines/operations",label:"Operacje"}],e[0]=y,e[1]=m):m=e[1];const b=m;let f;e[2]!==r||e[3]!==a?(f=t=>{t.preventDefault();const s=a.trim();typeof r=="function"?r(s):console.log("Search machines:",s)},e[2]=r,e[3]=a,e[4]=f):f=e[4];const g=f;let u,h;e[5]!==r||e[6]!==a?(u=()=>{const t=a.trim(),s=setTimeout(()=>{typeof r=="function"?r(t):console.log("Auto search machines:",t)},350);return()=>clearTimeout(s)},h=[a,r],e[5]=r,e[6]=a,e[7]=u,e[8]=h):(u=e[7],h=e[8]),j.useEffect(u,h);let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=t=>N(t.target.value),e[9]=d):d=e[9];let n;e[10]!==a?(n=c.jsx("input",{"aria-label":"Szukaj maszyny",placeholder:"Szukaj barcode / nazwy / modelu",value:a,onChange:d,className:"flex-1 px-2 py-1 border rounded text-sm"}),e[10]=a,e[11]=n):n=e[11];let p;e[12]===Symbol.for("react.memo_cache_sentinel")?(p=c.jsx("button",{type:"submit",className:"px-3 py-1 bg-sky-600 text-white rounded text-sm",children:"Szukaj"}),e[12]=p):p=e[12];let o;e[13]!==g||e[14]!==n?(o=c.jsxs("form",{onSubmit:g,className:"flex items-center gap-2 w-72 mr-6 sm:mr-8",children:[n,p]}),e[13]=g,e[14]=n,e[15]=o):o=e[15];let i;if(e[16]!==b){let t;e[18]===Symbol.for("react.memo_cache_sentinel")?(t=s=>{const w=v===s.href||s.href!=="/"&&v.startsWith(s.href);return c.jsx(E,{href:s.href,className:`text-sm px-2 py-1 rounded ${w?"bg-sky-600 text-white":"text-gray-700 hover:bg-gray-100"}`,"aria-current":w?"page":void 0,children:s.label},s.href)},e[18]=t):t=e[18],i=b.map(t),e[16]=b,e[17]=i}else i=e[17];let l;e[19]!==i?(l=c.jsx("div",{className:"flex items-center gap-2 ml-4",children:i}),e[19]=i,e[20]=l):l=e[20];let x;return e[21]!==l||e[22]!==o?(x=c.jsxs("nav",{className:"w-full bg-white border p-2 sm:p-3 flex items-center gap-4 justify-start mx-4 sm:mx-6",children:[o,l]}),e[21]=l,e[22]=o,e[23]=x):x=e[23],x}export{q as M};
