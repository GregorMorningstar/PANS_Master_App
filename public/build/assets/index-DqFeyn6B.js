import{c as le,u as ae,j as s,r as W,a as oe,L as ce}from"./app-DvaQrBj5.js";import{M as de}from"./ModeratorLayout-CpgMHDdW.js";import{S as me,B as fe,M as se,k as ue}from"./app-sidebar-layout-Sqm8IYV1.js";import{P as he}from"./pen-line-BK1hmj2V.js";import{M as re}from"./map-pin--wdH53AC.js";import{E as xe}from"./eye-CCA5i3Rz.js";import{G as pe}from"./graduation-cap-DngrgkQ0.js";import{a as ie}from"./app-logo-icon-D94uS_gU.js";/* empty css            */import"./index-CySXUBmE.js";import"./index-Bc-c5Ken.js";import"./index-C4J_hXM0.js";import"./index-Bo-m__MM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],be=ie("Braces",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],je=ie("User",ye);function we(t){const e=le.c(76),{user:r,className:N}=t,O=N===void 0?"":N,i=ae(),V=i.props?.auth?.user??i.props?.user,f=V?.id,B=V?.role||"",l=typeof r.department=="object"&&r.department?.name?r.department.name:typeof r.department=="string"?r.department:"Brak działu",J=String(f)===String(r.id);let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=["moderator","admin"],e[0]=S):S=e[0];let R;e[1]!==B?(R=B.toLowerCase(),e[1]=B,e[2]=R):R=e[2];const u=S.includes(R)||J,k=r.avatar?`/storage/${r.avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name||"User")}&size=160&background=4F46E5&color=ffffff&rounded=true&bold=true`,z=`w-full max-w-md mx-auto bg-white rounded-lg shadow-md border overflow-hidden ${O}`,E=r.name||"Nieznany użytkownik";let h;e[3]!==E?(h=s.jsx("h2",{className:"text-xl font-bold mb-1",children:E}),e[3]=E,e[4]=h):h=e[4];let x;e[5]!==l?(x=s.jsx("p",{className:"text-blue-100 text-sm mb-3",children:l}),e[5]=l,e[6]=x):x=e[6];let p;e[7]!==r.barcode||e[8]!==r.id?(p=r.barcode||`USR${r.id}`.padStart(10,"0"),e[7]=r.barcode,e[8]=r.id,e[9]=p):p=e[9];let C;e[10]!==p?(C=s.jsx("div",{className:"flex justify-center",children:s.jsx(fe,{value:p,format:"CODE128",height:30,width:.8,displayValue:!1,margin:0,renderer:"svg",lineColor:"#111827",background:"white"})}),e[10]=p,e[11]=C):C=e[11];let g;e[12]!==r.barcode||e[13]!==r.id?(g=r.barcode||`USR${r.id}`.padStart(10,"0"),e[12]=r.barcode,e[13]=r.id,e[14]=g):g=e[14];let n;e[15]!==g?(n=s.jsx("div",{className:"text-xs text-gray-700 text-center mt-1 font-mono",children:g}),e[15]=g,e[16]=n):n=e[16];let b;e[17]!==n||e[18]!==C?(b=s.jsxs("div",{className:"bg-white p-3 rounded-md text-center",children:[C,n]}),e[17]=n,e[18]=C,e[19]=b):b=e[19];let o;e[20]!==b||e[21]!==h||e[22]!==x?(o=s.jsxs("div",{className:"flex-1",children:[h,x,b]}),e[20]=b,e[21]=h,e[22]=x,e[23]=o):o=e[23];const $=r.name||"User avatar";let c;e[24]!==r.name?(c=ne=>{ne.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name||"User")}&size=160&background=4F46E5&color=ffffff&rounded=true&bold=true`},e[24]=r.name,e[25]=c):c=e[25];let d;e[26]!==k||e[27]!==$||e[28]!==c?(d=s.jsx("div",{className:"ml-4 flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-lg bg-white",children:s.jsx("img",{src:k,alt:$,className:"w-full h-full object-cover",onError:c})})}),e[26]=k,e[27]=$,e[28]=c,e[29]=d):d=e[29];let y;e[30]!==o||e[31]!==d?(y=s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[o,d]})}),e[30]=o,e[31]=d,e[32]=y):y=e[32];let j,w;e[33]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(se,{className:"w-4 h-4 text-blue-500"}),w=s.jsx("div",{className:"font-medium",children:"Email"}),e[33]=j,e[34]=w):(j=e[33],w=e[34]);const _=r.email||"brak@email.pl";let m;e[35]!==_?(m=s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[j,s.jsxs("div",{children:[w,s.jsx("div",{className:"text-xs",children:_})]})]}),e[35]=_,e[36]=m):m=e[36];let v;e[37]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(re,{className:"w-4 h-4 text-red-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Adres"}),s.jsx("div",{className:"text-xs",children:"ul. Polna 3"})]})]}),e[37]=v):v=e[37];let U;e[38]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(se,{className:"w-4 h-4 text-green-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Telefon"}),s.jsx("div",{className:"text-xs",children:"123 123 123"})]})]}),e[38]=U):U=e[38];let a;e[39]!==m?(a=s.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[m,v,U]})}),e[39]=m,e[40]=a):a=e[40];const K=`/employee/employee-details/${r.id}`;let L;e[41]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(xe,{className:"w-5 h-5"}),e[41]=L):L=e[41];let M;e[42]!==K?(M=s.jsx("a",{href:K,className:"inline-flex items-center justify-center w-10 h-10 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition-colors",title:"Szczegóły",children:L}),e[42]=K,e[43]=M):M=e[43];let P;e[44]!==r.id?(P=()=>window.location.href=`/chat?other_user_id=${r.id}`,e[44]=r.id,e[45]=P):P=e[45];let Q;e[46]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(se,{className:"w-5 h-5"}),e[46]=Q):Q=e[46];let A;e[47]!==P?(A=s.jsx("button",{type:"button",onClick:P,className:"inline-flex items-center justify-center w-10 h-10 bg-green-500 hover:bg-green-600 text-white rounded-full transition-colors",title:"Rozpocznij chat",children:Q}),e[47]=P,e[48]=A):A=e[48];let X;e[49]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx("a",{href:"#",className:"inline-flex items-center justify-center w-10 h-10 bg-purple-500 hover:bg-purple-600 text-white rounded-full transition-colors",title:"Edukacja",children:s.jsx(pe,{className:"w-5 h-5"})}),e[49]=X):X=e[49];let Y;e[50]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("a",{href:"#",className:"inline-flex items-center justify-center w-10 h-10 bg-indigo-500 hover:bg-indigo-600 text-white rounded-full transition-colors",title:"Kursy",children:s.jsx(ue,{className:"w-5 h-5"})}),e[50]=Y):Y=e[50];let Z;e[51]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx("a",{href:"#",className:"inline-flex items-center justify-center w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors",title:"Lokalizacja",children:s.jsx(re,{className:"w-5 h-5"})}),e[51]=Z):Z=e[51];let I;e[52]!==u||e[53]!==r.id?(I=u&&s.jsx("a",{href:`/moderator/users/${r.id}/edit`,className:"inline-flex items-center justify-center w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-full transition-colors",title:"Edytuj",children:s.jsx(he,{className:"w-5 h-5"})}),e[52]=u,e[53]=r.id,e[54]=I):I=e[54];let T;e[55]!==u||e[56]!==r.id?(T=u&&s.jsx("a",{href:`/moderator/users/${r.id}/settings`,className:"inline-flex items-center justify-center w-10 h-10 bg-gray-500 hover:bg-gray-600 text-white rounded-full transition-colors",title:"Ustawienia",children:s.jsx(me,{className:"w-5 h-5"})}),e[55]=u,e[56]=r.id,e[57]=T):T=e[57];let D;e[58]!==M||e[59]!==A||e[60]!==I||e[61]!==T?(D=s.jsxs("div",{className:"flex justify-center gap-3",children:[M,A,X,Y,Z,I,T]}),e[58]=M,e[59]=A,e[60]=I,e[61]=T,e[62]=D):D=e[62];let ee;e[63]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Aktywny"]}),e[63]=ee):ee=e[63];let H;e[64]!==r.role?(H=r.role&&s.jsx("span",{className:"ml-2 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.role.charAt(0).toUpperCase()+r.role.slice(1)}),e[64]=r.role,e[65]=H):H=e[65];let F;e[66]!==H?(F=s.jsx("div",{className:"mt-4 pt-3 border-t",children:s.jsxs("div",{className:"flex items-center justify-center",children:[ee,H]})}),e[66]=H,e[67]=F):F=e[67];let G;e[68]!==D||e[69]!==F?(G=s.jsxs("div",{className:"p-4",children:[D,F]}),e[68]=D,e[69]=F,e[70]=G):G=e[70];let te;return e[71]!==y||e[72]!==a||e[73]!==z||e[74]!==G?(te=s.jsxs("div",{className:z,children:[y,a,G]}),e[71]=y,e[72]=a,e[73]=z,e[74]=G,e[75]=te):te=e[75],te}function Ae(){const t=le.c(43),e=ae().props,r=e.users;let N;t[0]!==e.filters?(N=e.filters??{},t[0]=e.filters,t[1]=N):N=t[1];const O=N,[i,V]=W.useState(O.name??""),[f,B]=W.useState(O.department??""),[l,J]=W.useState(O.barcode??"");let S;t[2]===Symbol.for("react.memo_cache_sentinel")?(S=[{label:"Moderator",href:"moderator/dashboard",icon:be},{label:"Lista Pracowników",href:"moderator/user/index",icon:je}],t[2]=S):S=t[2];const R=S;let q;t[3]!==r?(q=Array.isArray(r)?r:r?.data??[],t[3]=r,t[4]=q):q=t[4];const u=q,k=W.useRef(null);let z;t[5]===Symbol.for("react.memo_cache_sentinel")?(z=function(K,L,M){oe.get(window.location.pathname,{name:K||void 0,department:L||void 0,barcode:M||void 0},{preserveState:!0,replace:!0,preserveScroll:!0})},t[5]=z):z=t[5];const E=z;let h,x;t[6]!==l||t[7]!==f||t[8]!==i?(h=()=>(k.current&&window.clearTimeout(k.current),k.current=window.setTimeout(()=>{E(i,f,l)},150),()=>{k.current&&window.clearTimeout(k.current)}),x=[i,f,l],t[6]=l,t[7]=f,t[8]=i,t[9]=h,t[10]=x):(h=t[9],x=t[10]),W.useEffect(h,x);let p;t[11]===Symbol.for("react.memo_cache_sentinel")?(p=function(){V(""),B(""),J(""),E("","","")},t[11]=p):p=t[11];const C=p;let g;t[12]===Symbol.for("react.memo_cache_sentinel")?(g=a=>V(a.target.value),t[12]=g):g=t[12];let n;t[13]!==i?(n=s.jsx("input",{type:"text",placeholder:"Szukaj po nazwie...",value:i,onChange:g,className:"w-full sm:w-1/3 px-3 py-2 rounded border bg-white/90 text-gray-800"}),t[13]=i,t[14]=n):n=t[14];let b;t[15]===Symbol.for("react.memo_cache_sentinel")?(b=a=>B(a.target.value),t[15]=b):b=t[15];let o;t[16]!==f?(o=s.jsx("input",{type:"text",placeholder:"Dział...",value:f,onChange:b,className:"w-full sm:w-1/4 px-3 py-2 rounded border bg-white/90 text-gray-800"}),t[16]=f,t[17]=o):o=t[17];let $;t[18]===Symbol.for("react.memo_cache_sentinel")?($=a=>J(a.target.value),t[18]=$):$=t[18];let c;t[19]!==l?(c=s.jsx("input",{type:"text",placeholder:"Barcode...",value:l,onChange:$,className:"w-full sm:w-1/4 px-3 py-2 rounded border bg-white/90 text-gray-800"}),t[19]=l,t[20]=c):c=t[20];let d;t[21]!==l||t[22]!==f||t[23]!==i?(d=s.jsx("button",{type:"button",onClick:()=>E(i,f,l),className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Szukaj"}),t[21]=l,t[22]=f,t[23]=i,t[24]=d):d=t[24];let y;t[25]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded",children:"Wyczyść"}),t[25]=y):y=t[25];let j;t[26]!==d?(j=s.jsxs("div",{className:"flex gap-2",children:[d,y]}),t[26]=d,t[27]=j):j=t[27];let w;t[28]!==o||t[29]!==c||t[30]!==j||t[31]!==n?(w=s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[n,o,c,j]}),t[28]=o,t[29]=c,t[30]=j,t[31]=n,t[32]=w):w=t[32];let _;t[33]!==u?(_=s.jsx("div",{children:u.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 justify-items-center",children:u.map(Ne)}):s.jsx("p",{className:"text-gray-500",children:"Brak użytkowników do wyświetlenia."})}),t[33]=u,t[34]=_):_=t[34];let m;t[35]!==w||t[36]!==_?(m=s.jsxs("div",{className:"space-y-4 pb-28",children:[w,_]}),t[35]=w,t[36]=_,t[37]=m):m=t[37];let v;t[38]!==r?(v=r?.links&&s.jsx("nav",{"aria-label":"Pagination",className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-auto px-4",children:s.jsx("div",{className:"inline-flex items-center gap-2 bg-white shadow-lg rounded-full px-3 py-2 text-sm text-gray-800 backdrop-blur-sm",children:r.links.map(ve)})}),t[38]=r,t[39]=v):v=t[39];let U;return t[40]!==m||t[41]!==v?(U=s.jsxs(de,{breadcrumbs:R,children:[m,v]}),t[40]=m,t[41]=v,t[42]=U):U=t[42],U}function ve(t,e){const r=!t.url,N=!!t.active;return s.jsx(ce,{href:t.url??"#",as:r?"button":void 0,className:`inline-flex items-center justify-center px-3 py-1 rounded-full transition-colors duration-150
                                        ${N?"bg-indigo-600 text-white shadow-md scale-105":"bg-white/0 text-gray-800 hover:bg-gray-100"}
                                        ${r?"opacity-50 pointer-events-none":""}`,dangerouslySetInnerHTML:{__html:t.label},"aria-current":N?"page":void 0},e)}function Ne(t){return s.jsx(we,{user:t},t.id)}export{Ae as default};
